---
import { getCollection } from "astro:content";
import BaseLayout from "@/layouts/BaseLayout.astro";

const projects = await getCollection("projects");
projects.sort((a, b) => a.data.index - b.data.index);
---

<BaseLayout>
  <h1 class="text-4xl font-bold mb-6">Projects</h1>
  
  <div class="space-y-8 mb-6">
    {projects.map((project) => (
      <div>
        <h2 class="text-2xl font-semibold mb-2">
          <a href={`/projects/${project.slug}`}>{project.data.title}</a>
        </h2>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">{project.data.date}</p>
        <p class="mb-2">{project.data.description}</p>
        {project.data.quickLinks && (
          <div class="space-x-4">
            {project.data.quickLinks.map((link) => (
              <a href={link.link} class="text-sm">{link.title}</a>
            ))}
          </div>
        )}
      </div>
    ))}
  </div>
  
  <p>
    <a href="/">‚Üê Back to home</a>
  </p>
</BaseLayout>
