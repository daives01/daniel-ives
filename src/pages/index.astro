---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
const recentProjects = projects.filter((project) => project.slug === "moon-lander");
---

<BaseLayout>
  <h1 class="text-4xl font-bold mb-6">Daniel Ives</h1>
  
  <p class="mb-6">
    I'm a software engineer and musician. I work at <a href="https://bamboorose.com">Bamboo Rose</a> building full stack applications. 
    I like space.
  </p>
  
  {recentProjects.length > 0 && (
    <>
      <p class="mb-4">
        I occasionally build <a href="/projects" data-astro-prefetch>projects</a> in my free time. Here are some of my most recent ones:
      </p>
      
      <div class="mb-6">
        <ul class="list-disc list-inside">
        {recentProjects.map((project) => (
          <li class="mb-2">
            <a href={`/projects/${project.slug}`} data-astro-prefetch>{project.data.title}</a>
          </li>
        ))}
          <li class="mb-2">
            more coming soon...
          </li>
        </ul>
      </div>
    </>
  )}
  
  <p class="mb-6">
    You can read more <a href="/about" data-astro-prefetch>about me</a> and check out <a href="/tools" data-astro-prefetch>tools</a> I like, 
    <a href="https://x.com/couponnephew">find me online</a>, or even <a href="https://linkedin.com/in/daniel-benjamin-ives">LinkedIn</a> for some reason.
  </p>
  
  <p>
    Feel free to <a href="mailto:contact@daniel-ives.com">reach out</a>.
  </p>
</BaseLayout>
